On the Cross-lingual Transferability of Monolingual Representations Mikel Artetxe†∗, Sebastian Ruder‡ , Dani Yogatama‡ †HiTZ Center, University of the Basque Country (UPV/EHU) ‡DeepMind mikel.artetxe@ehu.eus {ruder,dyogatama}@google.com Abstract transformer model (Vaswani et al., 2017) to per- form masked language modeling (MLM) in multi- State-of-the-art unsupervised multilingual ple languages, which is then fine-tuned on a down- models (e.g., multilingual BERT) have been stream task using labeled data in a single language— shown to generalize in a zero-shot cross- typically English. As a result of the multilingual lingual setting. This generalization ability has pre-training, the model is able to generalize to other been attributed to the use of a shared subword languages, even if it has never seen labeled data vocabulary and joint training across multiple languages giving rise to deep multilingual in those languages. Such a cross-lingual general- abstractions. We evaluate this hypothesis by ization ability is surprising, as there is no explicit designing an alternative approach that trans- cross-lingual term in the underlying training objec- fers a monolingual model to new languages tive. In relation to this, Pires et al. (2019) hypothe- at the lexical level. More concretely, we first sized that: train a transformer-based masked language model on one language, and transfer it to a . . . having word pieces used in all languages (num- new language by learning a new embedding bers, URLs, etc), which have to be mapped to a shared space forces the co-occurring pieces to also matrix with the same masked language be mapped to a shared space, thus spreading the ef- modeling objective—freezing parameters fect to other word pieces, until different languages of all other layers. This approach does not are close to a shared space. rely on a shared vocabulary or joint training. . . . mBERT’s ability to generalize cannot be at- However, we show that it is competitive with tributed solely to vocabulary memorization, and that it must be learning a deeper multilingual rep- multilingual BERT on standard cross-lingual resentation. classification benchmarks and on a new Cao et al. (2020) echoed this sentiment, and Wu Cross-lingual Question Answering Dataset and Dredze (2019) further observed that mBERT (XQuAD). Our results contradict common beliefs of the basis of the generalization ability performs better in languages that share many sub- of multilingual models and suggest that deep words. As such, the current consensus of the cross- monolingual models learn some abstractions lingual generalization ability of mBERT is based that generalize across languages. We also on a combination of three factors: (i) shared vocab- release XQuAD as a more comprehensive ulary items that act as anchor points; (ii) joint train- cross-lingual benchmark, which comprises ing across multiple languages that spreads this ef- 240 paragraphs and 1190 question-answer fect; which ultimately yields (iii) deep cross-lingual pairs from SQuAD v1.1 translated into ten languages by professional translators. representations that generalize across languages and tasks. In this paper, we empirically test this hypothesis 1 Introduction by designing an alternative approach that violates all of these assumptions. As illustrated in Figure 1, Multilingual pre-training methods such as multi- our method starts with a monolingual transformer lingual BERT (mBERT, Devlin et al., 2019) have trained with MLM, which we transfer to a new lan- been successfully used for zero-shot cross-lingual guage by learning a new embedding matrix through transfer (Pires et al., 2019; Conneau and Lample, MLM in the new language while freezing parame- 2019). These methods work by jointly training a ters of all other layers. This approach only learns ∗Work done as an intern at DeepMind. new lexical parameters and does not rely on shared 0202 yaM 62 ]LC.sc[ 3v65811.0191:viXra
Python is an interpreted programming language Seattle es la ciudad más grande de Washington entailment contradiction t o k 2EN t o k 2XX label label ... ... ... ... ... ... ... ... segA segA segA segB segA segA segA segB segA segA segA segB segA segA segA segB pos0 pos1 pos2 ... posN pos0 pos1 pos2 ... posN pos0 pos1 pos2 ... posN pos0 pos1 pos2 ... posN CLS t o k E 1N MASK t o k NEN CLS t o k X 1X MASK t o k NXX CLS t o k E 1N t o k 2EN t o k NEN CLS t o k X 1X t o k 2XX t o k NXX Python [MASK] an interpreted [MASK] language Seattle es la [MASK] más [MASK] de Washington males playing soccer [SEP] some men play a sport la gente se partía de risa [SEP] a nadie le hizo gracia (a) English pre-training (b) L embedding learning (c) English fine-tuning (d) Zero-shot transfer to L 2 2 Figure 1: Four steps for zero-shot cross-lingual transfer: (i) pre-train a monolingual transformer model in English akin to BERT; (ii) freeze the transformer body and learn new token embeddings from scratch for a second language using the same training objective over its monolingual corpus; (iii) fine-tune the model on English while keeping the embeddings frozen; and (iv) zero-shot transfer it to the new language by swapping the token embeddings. vocabulary items nor joint learning. However, we 2 Cross-lingual Transfer of Monolingual show that it is competitive with joint multilingual Representations pre-training across standard zero-shot cross-lingual In this section, we propose an approach to transfer a transfer benchmarks (XNLI, MLDoc, and PAWS- pre-trained monolingual model in one language L X). 1 (for which both task supervision and a monolingual We also experiment with a new Cross-lingual corpus are available) to a second language L (for Question Answering Dataset (XQuAD), which con- 2 which only a monolingual corpus is available). The sists of 240 paragraphs and 1190 question-answer method serves as a counterpoint to existing joint pairs from SQuAD v1.1 (Rajpurkar et al., 2016) multilingual models, as it works by aligning new translated into ten languages by professional trans- lexical parameters to a monolingually trained deep lators. Question answering as a task is a clas- model. sic probe for language understanding. It has also As illustrated in Figure 1, our proposed method been found to be less susceptible to annotation consists of four steps: artifacts commonly found in other benchmarks (Kaushik and Lipton, 2018; Gururangan et al., 1. Pre-train a monolingual BERT (i.e. a trans- 2018). We believe that XQuAD can serve as former) in L with masked language modeling 1 a more comprehensive cross-lingual benchmark (MLM) and next sentence prediction (NSP) and make it publicly available at https://github. objectives on an unlabeled L corpus. 1 com/deepmind/xquad. Our results on XQuAD show that the monolingual transfer approach can 2. Transfer the model to a new language by learn- be made competitive with mBERT by learning sec- ing new token embeddings while freezing the ond language-specific transformations via adapter transformer body with the same training ob- modules (Rebuffi et al., 2017). jectives (MLM and NSP) on an unlabeled L 2 Our contributions in this paper are as follows: (i) corpus. we propose a method to transfer monolingual rep- resentations to new languages in an unsupervised 3. Fine-tune the transformer for a downstream fashion (§2)1; (ii) we show that neither a shared task using labeled data in L 1, while keeping subword vocabulary nor joint multilingual training the L 1 token embeddings frozen. is necessary for zero-shot transfer and find that the 4. Zero-shot transfer the resulting model to L effective vocabulary size per language is an impor- 2 by swapping the L token embeddings with tant factor for learning multilingual models (§3 and 1 the L embeddings learned in Step 2. §4); (iii) we show that monolingual models learn 2 abstractions that generalize across languages (§5); We note that, unlike mBERT, we use a sepa- and (iv) we present a new cross-lingual question rate subword vocabulary for each language, which answering dataset (§4). is trained on its respective monolingual corpus, so the model has no notion of shared subwords. 1This is particularly useful for low-resource languages, since many pre-trained models are currently in English. However, the special [CLS], [SEP], [MASK],
[PAD], and [UNK] symbols are shared across lan- the adapter modules are trainable (in addition to guages, and fine-tuned in Step 3.2 We observe fur- the embedding matrix in L ). 2 ther improvements on several downstream tasks us- 3 Experiments ing the following extensions to the above method. Our goal is to evaluate the performance of different Language-specific position embeddings. The multilingual models in the zero-shot cross-lingual basic approach does not take into account differ- setting to better understand the source of their gen- ent word orders commonly found in different lan- eralization ability. We describe the models that we guages, as it reuses the position embeddings in L 1 compare (§3.1), the experimental setting (§3.2), and for L . We relax this restriction by learning a sep- 2 the results on three classification datasets: XNLI arate set of position embeddings for L in Step 2 2 (along with L token embeddings).3 We treat the (§3.3), MLDoc (§3.4) and PAWS-X (§3.5). We dis- 2 [CLS] symbol as a special case. In the original cuss experiments on our new XQuAD dataset in implementation, BERT treats [CLS] as a regular §4. In all experiments, we fine-tune a pre-trained model using labeled training examples in English, word with its own position and segment embed- and evaluate on test examples in other languages dings, even if it always appears in the first position. via zero-shot transfer. However, this does not provide any extra capacity to the model, as the same position and segment 3.1 Models embeddings are always added up to the [CLS] We compare four main models in our experiments: embedding. Following this observation, we do not use any position and segment embeddings for the Joint multilingual models (JOINTMULTI). A [CLS] symbol. multilingual BERT model trained jointly on 15 languages4. This model is analogous to mBERT Noised fine-tuning. The transformer body in our and closely related to other variants like XLM. proposed method is only trained with L embed- 1 dings as its input layer, but is used with L embed- 2 Joint pairwise bilingual models (JOINTPAIR). A dings at test time. To make the model more robust multilingual BERT model trained jointly on two to this mismatch, we add Gaussian noises sampled languages (English and another language). This from the standard normal distribution to the word, serves to control the effect of having multiple lan- position, and segment embeddings during the fine- guages in joint training. At the same time, it pro- tuning step (Step 3). vides a joint system that is directly comparable to the monolingual transfer approach in §2, which Adapters. We also investigate the possibility of also operates on two languages. allowing the model to learn better deep represen- tations of L , while retaining the alignment with 2 Cross-lingual word embedding mappings L using residual adapters (Rebuffi et al., 2017). 1 (CLWE). The method we described in §2 Adapters are small task-specific bottleneck lay- operates at the lexical level, and can be seen as a ers that are added between layers of a pre-trained form of learning cross-lingual word embeddings model. During fine-tuning, the original model pa- that are aligned to a monolingual transformer body. rameters are frozen, and only parameters of the In contrast to this approach, standard cross-lingual adapter modules are learned. In Step 2, when we word embedding mappings first align monolingual transfer the L transformer to L , we add a feed- 1 2 lexical spaces and then learn a multilingual deep forward adapter module after the projection follow- model on top of this space. We also include a ing multi-headed attention and after the two feed- method based on this alternative approach where forward layers in each transformer layer, similar to we train skip-gram embeddings for each language, Houlsby et al. (2019). Note that the original trans- and map them to a shared space using VecMap former body is still frozen, and only parameters of (Artetxe et al., 2018).5 We then train an English BERT model using MLM and NSP on top of 2The rationale behind this is that special symbols are gen- erally task dependent, and given that the fine-tuning in down- the frozen mapped embeddings. The model is stream tasks is done exclusively in English, we need to share these symbols to zero-shot transfer to other languages. 4We use all languages that are included in XNLI (Conneau 3We also freeze the L position embeddings in Step 3 et al., 2018b). 1 accordingly, and the L position embeddings are plugged in 5We use the orthogonal mode in VecMap and map all 2 together with the token embeddings in Step 4. languages into English.
then fine-tuned using English labeled data while BERT , similar to mBERT. We use the LAMB BASE keeping the embeddings frozen. We zero-shot optimizer (You et al., 2020) and train on 64 TPUv3 transfer to a new language by plugging in its chips for 250,000 steps using the same hyperpa- respective mapped embeddings. rameters as You et al. (2020). We describe other training details in Appendix A. Our hyperparameter Cross-lingual transfer of monolingual models configuration is based on preliminary experiments (MONOTRANS). Our method described in §2. We on the development set of the XNLI dataset. We do use English as L and try multiple variants with 1 not perform any exhaustive hyperparameter search, different extensions. and use the exact same settings for all model vari- ants, languages, and tasks. 3.2 Setting Vocabulary. We perform subword tokenization Evaluation setting. We perform a single train- using the unigram model in SentencePiece (Kudo ing and evaluation run for each model, and report and Richardson, 2018). In order to understand the results in the corresponding test set for each down- effect of sharing subwords across languages and stream task. For MONOTRANS, we observe stability the size of the vocabulary, we train each model with issues when learning language-specific position em- various settings. We train 4 different JOINTMULTI beddings for Greek, Thai and Swahili. The second models with a vocabulary of 32k, 64k, 100k, and step would occasionally fail to converge to a good 200k subwords. For JOINTPAIR, we train one model solution. For these three languages, we run Step 2 with a joint vocabulary of 32k subwords, learned of our proposed method (§2) three times and pick separately for each language pair, and another one the best model on the XNLI development set. with a disjoint vocabulary of 32k subwords per language, learned on its respective monolingual 3.3 XNLI: Natural Language Inference corpus. The latter is directly comparable to MONO- In natural language inference (NLI), given two TRANS in terms of vocabulary, in that it is restricted sentences (a premise and a hypothesis), the goal to two languages and uses the exact same disjoint is to decide whether there is an entailment, con- vocabulary with 32k subwords per language. For tradiction, or neutral relationship between them CLWE, we use the same subword vocabulary and (Bowman et al., 2015). We train all models on the investigate two choices: (i) the number of embed- MultiNLI dataset (Williams et al., 2018) in English ding dimensions—300d (the standard in the cross- and evaluate on XNLI (Conneau et al., 2018b)—a lingual embedding literature) and 768d (equivalent cross-lingual NLI dataset consisting of 2,500 de- to the rest of the models); and (ii) the self-learning velopment and 5,000 test instances translated from initialization—weakly supervised (based on iden- English into 14 languages. tically spelled words, Søgaard et al., 2018) and We report our results on XNLI in Table 1 to- unsupervised (based on the intralingual similarity gether with the previous results from mBERT and distribution, Artetxe et al., 2018). XLM.7 We summarize our main findings below. Pre-training data. We use Wikipedia as our JOINTMULTI is comparable with the literature. training corpus, similar to mBERT and XLM (Con- Our best JOINTMULTI model is substantially better neau and Lample, 2019), which we extract using than mBERT, and only one point worse (on aver- the WikiExtractor tool.6 We do not perform any age) than the unsupervised XLM model, which is lowercasing or normalization. When working with larger in size. languages of different corpus sizes, we use the same upsampling strategy as Conneau and Lample A larger vocabulary is beneficial. JOINTMULTI (2019) for both the subword vocabulary learning variants with a larger vocabulary perform better. and the pre-training. More languages do not improve performance. Training details. Our implementation is based JOINTPAIR models with a joint vocabulary perform on the BERT code from Devlin et al. (2019). comparably with JOINTMULTI. For adapters, we build on the code by Houlsby et al. (2019). We use the model architecture of 7mBERT covers 102 languages and has a shared vocabu- lary of 110k subwords. XLM covers 15 languages and uses a 6https://github.com/attardi/ larger model size with a shared vocabulary of 95k subwords, wikiextractor which contributes to its better performance.
en fr es de el bg ru tr ar vi th zh hi sw ur avg Prev mBERT 81.4 - 74.3 70.5 - - - - 62.1 - - 63.8 - - 58.3 - work XLM (MLM) 83.2 76.5 76.3 74.2 73.1 74.0 73.1 67.8 68.5 71.2 69.2 71.9 65.7 64.6 63.4 71.5 300d ident 82.1 67.6 69.0 65.0 60.9 59.1 59.5 51.2 55.3 46.6 54.0 58.5 48.4 35.3 43.0 57.0 300d unsup 82.1 67.4 69.3 64.5 60.2 58.4 59.2 51.5 56.2 36.4 54.7 57.7 48.2 36.2 33.8 55.7 CLWE 768d ident 82.4 70.7 71.1 67.6 64.2 61.4 63.3 55.0 58.6 50.7 58.0 60.2 54.8 34.8 48.1 60.1 768d unsup 82.4 70.4 71.2 67.4 63.9 62.8 63.3 54.8 58.3 49.1 57.2 55.7 54.9 35.0 33.9 58.7 32k voc 79.0 71.5 72.2 68.5 66.7 66.9 66.5 58.4 64.4 66.0 62.3 66.4 59.1 50.4 56.9 65.0 JOINT 64k voc 80.7 72.8 73.0 69.8 69.6 69.5 68.8 63.6 66.1 67.2 64.7 66.7 63.2 52.0 59.0 67.1 MULTI 100k voc 81.2 74.5 74.4 72.0 72.3 71.2 70.0 65.1 69.7 68.9 66.4 68.0 64.2 55.6 62.2 69.0 200k voc 82.2 75.8 75.7 73.4 74.0 73.1 71.8 67.3 69.8 69.8 67.7 67.8 65.8 60.9 62.3 70.5 JOINT Joint voc 82.2 74.8 76.4 73.1 72.0 71.8 70.2 67.9 68.5 71.4 67.7 70.8 64.5 64.2 60.6 70.4 PAIR Disjoint voc 83.0 76.2 77.1 74.4 74.4 73.7 72.1 68.8 71.3 70.9 66.2 72.5 66.0 62.3 58.0 71.1 Token emb 83.1 73.3 73.9 71.0 70.3 71.5 66.7 64.5 66.6 68.2 63.9 66.9 61.3 58.1 57.3 67.8 MONO + pos emb 83.8 74.3 75.1 71.7 72.6 72.8 68.8 66.0 68.6 69.8 65.7 69.7 61.1 58.8 58.3 69.1 TRANS + noising 81.7 74.1 75.2 72.6 72.9 73.1 70.2 68.1 70.2 69.1 67.7 70.6 62.5 62.5 60.2 70.0 + adapters 81.7 74.7 75.4 73.0 72.0 73.7 70.4 69.9 70.6 69.5 65.1 70.3 65.2 59.6 51.7 69.5 Table 1: XNLI results (F1-score). mBERT results are taken from the official BERT repository, while XLM results are taken from Conneau and Lample (2019). We bold the best result in each section and underline the overall best. A shared subword vocabulary is not necessary models tend to perform better, and the best overall for joint multilingual pre-training. The equiv- results are from CLWE. We believe that this can be alent JOINTPAIR models with a disjoint vocabulary attributed to: (i) the superficial nature of the task for each language perform better. itself, as a model can rely on a few keywords to identify the genre of an input document without CLWE performs poorly. Even if it is competi- requiring any high-level understanding and (ii) the tive in English, it does not transfer as well to other small size of the training set. Nonetheless, all of languages. Larger dimensionalities and weak su- the four model families obtain generally similar re- pervision improve CLWE, but its performance is sults, corroborating our previous findings that joint still below other models. multilingual pre-training and a shared vocabulary are not needed to achieve good performance. MONOTRANS is competitive with joint learning. The basic version of MONOTRANS is 3.3 points 3.5 PAWS-X: Paraphrase Identification worse on average than its equivalent JOINTPAIR PAWS is a dataset that contains pairs of sentences model. Language-specific position embeddings with a high lexical overlap (Zhang et al., 2019). and noised fine-tuning reduce the gap to only 1.1 The task is to predict whether each pair is a para- points. Adapters mostly improve performance, phrase or not. While the original dataset is only except for low-resource languages such as Urdu, in English, PAWS-X (Yang et al., 2019) provides Swahili, Thai, and Greek. In subsequent experi- human translations into six languages. ments, we include results for all variants of MONO- We evaluate our models on this dataset and show TRANS and JOINTPAIR, the best CLWE variant (768d our results in Table 2. Similar to experiments on ident), and JOINTMULTI with 32k and 200k voc. other datasets, MONOTRANS is competitive with the 3.4 MLDoc: Document Classification best joint variant, with a difference of only 0.6 points when we learn language-specific position In MLDoc (Schwenk and Li, 2018), the task is embeddings. to classify documents into one of four different genres: corporate/industrial, economics, govern- 4 XQuAD: Cross-lingual Question ment/social, and markets. The dataset is an im- Answering Dataset proved version of the Reuters benchmark (Klemen- tiev et al., 2012), and consists of 1,000 training and Our classification experiments demonstrate that 4,000 test documents in 7 languages. MONOTRANS is competitive with JOINTMULTI and We show the results of our MLDoc experiments JOINTPAIR, despite being multilingual at the embed- in Table 2. In this task, we observe that simpler ding layer only (i.e. the transformer body is trained
MLDoc PAWS-X en fr es de ru zh avg en fr es de zh avg Prev work mBERT - 83.0 75.0 82.4 71.6 66.2 - 93.5 85.2 86.0 82.2 75.8 84.5 CLWE 768d ident 94.7 87.3 77.0 88.7 67.6 78.3 82.3 92.8 85.2 85.5 81.6 72.5 83.5 JOINT 32k voc 92.6 81.7 75.8 85.4 71.5 66.6 78.9 91.9 83.8 83.3 82.6 75.8 83.5 MULTI 200k voc 91.9 82.1 80.9 89.3 71.8 66.2 80.4 93.8 87.7 87.5 87.3 78.8 87.0 JOINT Joint voc 93.1 81.3 74.7 87.7 71.5 80.7 81.5 93.3 86.1 87.2 86.0 79.9 86.5 PAIR Disjoint voc 93.5 83.1 78.0 86.6 65.5 78.1 80.8 94.0 88.4 88.6 87.5 79.3 87.5 Token emb 93.5 84.0 76.9 88.7 60.6 83.6 81.2 93.6 87.0 87.1 84.2 78.2 86.0 MONO + pos emb 93.6 79.7 75.7 86.6 61.6 83.0 80.0 94.3 87.3 87.6 86.3 79.0 86.9 TRANS + noising 88.2 81.3 72.2 89.4 63.9 65.1 76.7 88.0 83.3 83.2 81.8 77.5 82.7 + adapters 88.2 81.4 76.4 89.6 63.1 77.3 79.3 88.0 84.1 83.0 81.5 73.5 82.0 Table 2: MLDoc and PAWS-X results (F1-score). mBERT results are from Eisenschlos et al. (2019) for MLDoc and from Yang et al. (2019) for PAWS-X, respectively. We bold the best result in each section with more than two models and underline the overall best result. exclusively on English). One possible explana- their translations. Appendix B discusses the dataset tion for this behaviour is that existing cross-lingual in more details. benchmarks are flawed and solvable at the lexical We show F scores on XQuAD in Table 3 (we 1 level. For example, previous work has shown that include exact match scores in Appendix C). Sim- models trained on MultiNLI—from which XNLI ilar to our findings in the XNLI experiment, the was derived—learn to exploit superficial cues in vocabulary size has a large impact on JOINTMULTI, the data (Gururangan et al., 2018). and JOINTPAIR models with disjoint vocabularies To better understand the cross-lingual generaliza- perform the best. The gap between MONOTRANS tion ability of these models, we create a new Cross- and joint models is larger, but MONOTRANS still per- lingual Question Answering Dataset (XQuAD). forms surprisingly well given the nature of the task. Question answering is a classic probe for natural We observe that learning language-specific posi- language understanding (Hermann et al., 2015) and tion embeddings is helpful in most cases, but com- has been shown to be less susceptible to annota- pletely fails for Turkish and Hindi. Interestingly, tion artifacts than other popular tasks (Kaushik and the exact same pre-trained models (after Steps 1 Lipton, 2018). In contrast to existing classifica- and 2) do obtain competitive results in XNLI (§3.3). tion benchmarks, extractive question answering re- In contrast to results on previous tasks, adding quires identifying relevant answer spans in longer adapters to allow a transferred monolingual model context paragraphs, thus requiring some degree of to learn higher level abstractions in the new lan- structural transfer across languages. guage significantly improves performance, result- XQuAD consists of a subset of 240 paragraphs ing in a MONOTRANS model that is comparable to and 1190 question-answer pairs from the devel- the best joint system. opment set of SQuAD v1.18 together with their translations into ten languages: Spanish, German, 5 Discussion Greek, Russian, Turkish, Arabic, Vietnamese, Thai, Chinese, and Hindi. Both the context paragraphs Joint multilingual training. We demonstrate and the questions are translated by professional that sharing subwords across languages is not nec- human translators from Gengo9. In order to facili- essary for mBERT to work, contrary to a previous tate easy annotations of answer spans, we choose hypothesis by Pires et al. (2019). We also do not the most frequent answer for each question and observe clear improvements by scaling the joint mark its beginning and end in the context para- training to a large number of languages. graph using special symbols, instructing translators Rather than having a joint vs. disjoint vocabu- to keep these symbols in the relevant positions in lary or two vs. multiple languages, we find that an important factor is the effective vocabulary size per 8We choose SQuAD 1.1 to avoid translating unanswerable language. When using a joint vocabulary, only a questions. 9https://gengo.com subset of the tokens is effectively shared, while the
en es de el ru tr ar vi th zh hi avg mBERT 88.9 75.5 70.6 62.6 71.3 55.4 61.5 69.5 42.7 58.0 59.2 65.0 CLWE 768d ident 84.2 58.0 51.2 41.1 48.3 24.2 32.8 29.7 23.8 19.9 21.7 39.5 JOINT 32k voc 79.3 59.5 60.3 49.6 59.7 42.9 52.3 53.6 49.3 50.2 42.3 54.5 MULTI 200k voc 82.7 74.3 71.3 67.1 70.2 56.6 64.8 67.6 58.6 51.5 58.3 65.7 JOINT Joint voc 82.8 68.3 73.6 58.8 69.8 53.8 65.3 69.5 56.3 58.8 57.4 64.9 PAIR Disjoint voc 83.3 72.5 72.8 67.3 71.7 60.5 66.5 68.9 56.1 60.4 56.7 67.0 Token emb 83.9 67.9 62.1 63.0 64.2 51.2 61.0 64.1 52.6 51.4 50.9 61.1 MONO + pos emb 84.7 73.1 65.9 66.5 66.2 16.2 59.5 65.8 51.5 56.4 19.3 56.8 TRANS + noising 82.1 68.4 68.2 67.3 67.5 17.5 61.2 65.9 57.5 58.5 21.5 57.8 + adapters 82.1 70.8 70.6 67.9 69.1 61.3 66.0 67.0 57.5 60.5 61.9 66.8 Table 3: XQuAD results (F1). We bold the best result in each section and underline the overall best result. mono xx→en aligned en en fr es de el bg ru tr ar vi zh avg WiC 59.1 58.2 62.5 59.6 58.0 59.9 56.9 57.7 58.5 59.7 57.8 56.7 58.7 Semantic SCWS 45.9 44.3 39.7 34.1 39.1 38.2 28.9 32.6 42.1 45.5 35.3 31.8 37.4 Subject-verb agreement 86.5 58.2 64.0 65.7 57.6 67.6 58.4 73.6 59.6 61.2 62.1 61.1 62.7 Syntactic Reflexive anaphora 79.2 60.2 60.7 66.6 53.3 63.6 56.0 75.4 69.4 81.6 58.4 55.2 63.7 Table 4: Semantic and syntactic probing results of a monolingual model and monolingual models transferred to English. Results are on the Word-in-Context (WiC) dev set, the Stanford Contextual Word Similarity (SCWS) test set, and the syntactic evaluation (syn) test set (Marvin and Linzen, 2018). Metrics are F1-score (WiC), Spearman’s r (SCWS), and macro-averaged F1-score (syn). rest tends to occur in only one language. As a result, Contextual Word Similarity (SCWS; Huang et al., multiple languages compete for allocations in the 2012), and the syntactic evaluation (Marvin and shared vocabulary. We observe that multilingual Linzen, 2018) datasets. models with larger vocabulary sizes obtain consis- We provide details of our experimental setup in tently better results. It is also interesting that our Appendix D and show a summary of our results best results are generally obtained by the JOINTPAIR in Table 4. The results indicate that monolingual systems with a disjoint vocabulary, which guaran- semantic representations learned from non-English tees that each language is allocated 32k subwords. languages transfer to English to a degree. On WiC, As such, we believe that future work should treat models transferred from non-English languages are the effective vocabulary size as an important factor. comparable with models trained on English. On SCWS, while there are more variations, models Transfer of monolingual representations. trained on other languages still perform surpris- MONOTRANS is competitive even in the most ingly well. In contrast, we observe larger gaps in challenging scenarios. This indicates that joint the syntactic evaluation dataset. This suggests that multilingual pre-training is not essential for transferring syntactic abstractions is more challeng- cross-lingual generalization, suggesting that ing than semantic abstractions. We leave a more monolingual models learn linguistic abstractions thorough investigation of whether joint multilin- that generalize across languages. gual pre-training reduces to learning a lexical-level To get a better understanding of this phe- alignment for future work. nomenon, we probe the representations of MONO- TRANS. As existing probing datasets are only avail- CLWE. CLWE models—although similar in spirit able in English, we train monolingual representa- to MONOTRANS—are only competitive on the easiest tions in non-English languages and transfer them to and smallest task (MLDoc), and perform poorly on English. We probe representations from the result- the more challenging ones (XNLI and XQuAD). ing English models with the Word in Context (WiC; While previous work has questioned evaluation Pilehvar and Camacho-Collados, 2019), Stanford methods in this research area (Glavasˇ et al., 2019;
Artetxe et al., 2019), our results provide evidence lar to ours. However, they find that post-hoc embed- that existing methods are not competitive in chal- ding learning from a random initialization does not lenging downstream tasks and that mapping be- work well. In contrast, we show that monolingual tween two fixed embedding spaces may be overly representations generalize well to other languages restrictive. For that reason, we think that designing and that we can transfer to a new language by learn- better integration techniques of CLWE to down- ing new subword embeddings. Contemporaneous stream models is an important future direction. work also shows that a shared vocabulary is not important for learning multilingual representations Lifelong learning. Humans learn continuously (K et al., 2020; Wu et al., 2019), while Lewis et al. and accumulate knowledge throughout their life- (2019) propose a question answering dataset that is time. In contrast, existing multilingual models fo- similar in spirit to ours but covers fewer languages cus on the scenario where all training data for all and is not parallel across all of them. languages is available in advance. The setting to transfer a monolingual model to other languages is 7 Conclusions suitable for the scenario where one needs to incor- porate new languages into an existing model, while We compared state-of-the-art multilingual represen- no longer having access to the original data. Such tation learning models and a monolingual model a scenario is of significant practical interest, since that is transferred to new languages at the lex- models are often released without the data they are ical level. We demonstrated that these models trained on. In that regard, our work provides a perform comparably on standard zero-shot cross- baseline for multilingual lifelong learning. lingual transfer benchmarks, indicating that neither a shared vocabulary nor joint pre-training are nec- 6 Related Work essary in multilingual models. We also showed that a monolingual model trained on a particular Unsupervised lexical multilingual representa- language learns some semantic abstractions that tions. A common approach to learn multilingual are generalizable to other languages in a series of representations is based on cross-lingual word em- probing experiments. Our results and analysis con- bedding mappings. These methods learn a set of tradict previous theories and provide new insights monolingual word embeddings for each language into the basis of the generalization abilities of multi- and map them to a shared space through a linear lingual models. To provide a more comprehensive transformation. Recent approaches perform this benchmark to evaluate cross-lingual models, we mapping with an unsupervised initialization based also released the Cross-lingual Question Answer- on heuristics (Artetxe et al., 2018) or adversarial ing Dataset (XQuAD). training (Zhang et al., 2017; Conneau et al., 2018a), which is further improved through self-learning Acknowledgements (Artetxe et al., 2017). The same approach has also been adapted for contextual representations (Schus- We thank Chris Dyer and Phil Blunsom for helpful ter et al., 2019). comments on an earlier draft of this paper and Tyler Liechty for assistance with datasets. Unsupervised deep multilingual representa- tions. In contrast to the previous approach, which learns a shared multilingual space at the lexical References level, state-of-the-art methods learn deep represen- Mikel Artetxe, Gorka Labaka, and Eneko Agirre. 2017. tations with a transformer. Most of these methods Learning bilingual word embeddings with (almost) are based on mBERT. Extensions to mBERT in- no bilingual data. In Proceedings of the 55th Annual clude scaling it up and incorporating parallel data Meeting of the Association for Computational Lin- guistics (Volume 1: Long Papers), pages 451–462, (Conneau and Lample, 2019), adding auxiliary pre- Vancouver, Canada. Association for Computational training tasks (Huang et al., 2019), and encouraging Linguistics. representations of translations to be similar (Cao et al., 2020). Mikel Artetxe, Gorka Labaka, and Eneko Agirre. 2018. A robust self-learning method for fully unsupervised Concurrent to this work, Tran (2020) propose a cross-lingual mappings of word embeddings. In Pro- more complex approach to transfer a monolingual ceedings of the 56th Annual Meeting of the Associa- BERT to other languages that achieves results simi- tion for Computational Linguistics (Volume 1: Long
Papers), pages 789–798, Melbourne, Australia. As- lingual word embeddings: On strong baselines, com- sociation for Computational Linguistics. parative analyses, and some misconceptions. In Pro- ceedings of the 57th Annual Meeting of the Associa- Mikel Artetxe, Gorka Labaka, and Eneko Agirre. 2019. tion for Computational Linguistics, pages 710–721, Bilingual lexicon induction through unsupervised Florence, Italy. Association for Computational Lin- machine translation. In Proceedings of the 57th An- guistics. nual Meeting of the Association for Computational Linguistics, pages 5002–5007, Florence, Italy. Asso- Yoav Goldberg. 2019. Assessing BERT’s Syntactic ciation for Computational Linguistics. Abilities. CoRR, abs/1901.05287. Samuel R. Bowman, Gabor Angeli, Christopher Potts, Suchin Gururangan, Swabha Swayamdipta, Omer and Christopher D. Manning. 2015. A large anno- Levy, Roy Schwartz, Samuel Bowman, and Noah A. tated corpus for learning natural language inference. Smith. 2018. Annotation artifacts in natural lan- In Proceedings of the 2015 Conference on Empiri- guage inference data. In Proceedings of the 2018 cal Methods in computer vision, pages Conference of the North American Chapter of the 632–642, Lisbon, Portugal. Association for Compu- Association for Computational Linguistics: Human tational Linguistics. Language Technologies, Volume 2 (Short Papers), pages 107–112, New Orleans, Louisiana. Associa- Steven Cao, Nikita Kitaev, and Dan Klein. 2020. Mul- tion for Computational Linguistics. tilingual Alignment of Contextual Word Representa- tions. In Proceedings of the 8th International Con- Karl Moritz Hermann, Tomas Kocisky, Edward Grefen- ference on Learning Representations (ICLR 2020). stette, Lasse Espeholt, Will Kay, Mustafa Suleyman, and Phil Blunsom. 2015. Teaching machines to read Alexis Conneau and Guillaume Lample. 2019. Cross- and comprehend. In Advances in Neural Informa- lingual language model pretraining. In Advances tion Processing Systems 28, pages 1693–1701. in Neural Information Processing Systems 32, pages 7059–7069. Neil Houlsby, Andrei Giurgiu, Stanislaw Jastrzebski, Bruna Morrone, Quentin De Laroussilhe, Andrea Alexis Conneau, Guillaume Lample, Marc’Aurelio Gesmundo, Mona Attariyan, and Sylvain Gelly. Ranzato, Ludovic Denoyer, and Herve´ Je´gou. 2018a. 2019. Parameter-efficient transfer learning for NLP. Word Translation Without Parallel Data. In Proceed- In Proceedings of the 36th International Conference ings of the 6th International Conference on Learning on Machine Learning, volume 97 of Proceedings Representations (ICLR 2018). of Machine Learning Research, pages 2790–2799, Long Beach, California, USA. PMLR. Alexis Conneau, Ruty Rinott, Guillaume Lample, Ad- ina Williams, Samuel Bowman, Holger Schwenk, Eric Huang, Richard Socher, Christopher Manning, and Veselin Stoyanov. 2018b. XNLI: Evaluating and Andrew Ng. 2012. Improving word represen- cross-lingual sentence representations. In Proceed- tations via global context and multiple word proto- ings of the 2018 Conference on Empirical Methods types. In Proceedings of the 50th Annual Meeting of in computer vision, pages 2475–2485, the Association for Computational Linguistics (Vol- Brussels, Belgium. Association for Computational ume 1: Long Papers), pages 873–882, Jeju Island, Linguistics. Korea. Association for Computational Linguistics. Jacob Devlin, Ming-Wei Chang, Kenton Lee, and Haoyang Huang, Yaobo Liang, Nan Duan, Ming Gong, Kristina Toutanova. 2019. BERT: Pre-training of Linjun Shou, Daxin Jiang, and Ming Zhou. 2019. deep bidirectional transformers for language under- Unicoder: A universal language encoder by pre- standing. In Proceedings of the 2019 Conference training with multiple cross-lingual tasks. In Pro- of the North American Chapter of the Association ceedings of the 2019 Conference on Empirical Meth- for Computational Linguistics: Human Language ods in computer vision and the 9th In- Technologies, Volume 1 (Long and Short Papers), ternational Joint Conference on Natural Language pages 4171–4186, Minneapolis, Minnesota. Associ- Processing (EMNLP-IJCNLP), pages 2485–2494, ation for Computational Linguistics. Hong Kong, China. Association for Computational Linguistics. Julian Eisenschlos, Sebastian Ruder, Piotr Czapla, Marcin Kadras, Sylvain Gugger, and Jeremy Karthikeyan K, Zihan Wang, Stephen Mayhew, and Howard. 2019. MultiFiT: Efficient Multi-lingual Dan Roth. 2020. Cross-Lingual Ability of Multilin- Language Model Fine-tuning. In Proceedings of gual BERT: An Empirical Study. In Proceedings of the 2019 Conference on Empirical Methods in Nat- the 8th International Conference on Learning Repre- ural Language Processing and the 9th International sentations (ICLR 2020). Joint Conference on computer vision (EMNLP-IJCNLP), pages 5702–5707, Hong Kong, Divyansh Kaushik and Zachary C. Lipton. 2018. How China. Association for Computational Linguistics. much reading does reading comprehension require? A critical investigation of popular benchmarks. In Goran Glavasˇ, Robert Litschko, Sebastian Ruder, and Proceedings of the 2018 Conference on Empirical Ivan Vulic´. 2019. How to (properly) evaluate cross- Methods in computer vision, pages
5010–5015, Brussels, Belgium. Association for Short Papers), pages 1599–1613, Minneapolis, Min- Computational Linguistics. nesota. Association for Computational Linguistics. Alexandre Klementiev, Ivan Titov, and Binod Bhattarai. Holger Schwenk and Xian Li. 2018. A corpus for 2012. Inducing crosslingual distributed representa- multilingual document classification in eight lan- tions of words. In Proceedings of the 24th Inter- guages. In Proceedings of the Eleventh Interna- national Conference on Computational Linguistics, tional Conference on Language Resources and Eval- pages 1459–1474, Mumbai, India. The COLING uation (LREC-2018), Miyazaki, Japan. European 2012 Organizing Committee. Languages Resources Association (ELRA). Taku Kudo and John Richardson. 2018. SentencePiece: Anders Søgaard, Sebastian Ruder, and Ivan Vulic´. A simple and language independent subword tok- 2018. On the limitations of unsupervised bilingual enizer and detokenizer for neural text processing. In dictionary induction. In Proceedings of the 56th An- Proceedings of the 2018 Conference on Empirical nual Meeting of the Association for Computational Methods in computer vision: System Linguistics (Volume 1: Long Papers), pages 778– Demonstrations, pages 66–71, Brussels, Belgium. 788, Melbourne, Australia. Association for Compu- Association for Computational Linguistics. tational Linguistics. Patrick Lewis, Barlas Og˘uz, Ruty Rinott, Sebastian Ke Tran. 2020. From English to Foreign Languages: Riedel, and Holger Schwenk. 2019. MLQA: Evalu- Transferring Pre-trained Language Models. arXiv ating Cross-lingual Extractive Question Answering. preprint arXiv:2002.07306. arXiv preprint arXiv:1910.07475. Ashish Vaswani, Noam Shazeer, Niki Parmar, Jakob Rebecca Marvin and Tal Linzen. 2018. Targeted syn- Uszkoreit, Llion Jones, Aidan N. Gomez, Łukasz tactic evaluation of language models. In Proceed- Kaiser, and Illia Polosukhin. 2017. Attention is all ings of the 2018 Conference on Empirical Methods you need. In Advances in Neural Information Pro- in computer vision, pages 1192–1202, cessing Systems 30, pages 5998–6008. Brussels, Belgium. Association for Computational Linguistics. Adina Williams, Nikita Nangia, and Samuel Bowman. 2018. A broad-coverage challenge corpus for sen- Mohammad Taher Pilehvar and Jose Camacho- tence understanding through inference. In Proceed- Collados. 2019. WiC: the word-in-context dataset ings of the 2018 Conference of the North American for evaluating context-sensitive meaning represen- Chapter of the Association for Computational Lin- tations. In Proceedings of the 2019 Conference guistics: Human Language Technologies, Volume of the North American Chapter of the Association 1 (Long Papers), pages 1112–1122, New Orleans, for Computational Linguistics: Human Language Louisiana. Association for Computational Linguis- Technologies, Volume 1 (Long and Short Papers), tics. pages 1267–1273, Minneapolis, Minnesota. Associ- ation for Computational Linguistics. Shijie Wu, Alexis Conneau, Haoran Li, Luke Zettle- moyer, and Veselin Stoyanov. 2019. Emerging Telmo Pires, Eva Schlinger, and Dan Garrette. 2019. cross-lingual structure in pretrained language mod- How multilingual is multilingual BERT? In Pro- els. arXiv preprint arXiv:1911.01464. ceedings of the 57th Annual Meeting of the Asso- ciation for Computational Linguistics, pages 4996– Shijie Wu and Mark Dredze. 2019. Beto, bentz, be- 5001, Florence, Italy. Association for Computa- cas: The surprising cross-lingual effectiveness of tional Linguistics. BERT. In Proceedings of the 2019 Conference on Pranav Rajpurkar, Jian Zhang, Konstantin Lopyrev, and Empirical Methods in computer vision Percy Liang. 2016. SQuAD: 100,000+ questions for and the 9th International Joint Conference on Natu- machine comprehension of text. In Proceedings of ral Language Processing (EMNLP-IJCNLP), pages the 2016 Conference on Empirical Methods in Natu- 833–844, Hong Kong, China. Association for Com- ral Language Processing, pages 2383–2392, Austin, putational Linguistics. Texas. Association for Computational Linguistics. Yinfei Yang, Yuan Zhang, Chris Tar, and Jason Sylvestre-Alvise Rebuffi, Hakan Bilen, and Andrea Baldridge. 2019. PAWS-x: A cross-lingual adversar- Vedaldi. 2017. Learning multiple visual domains ial dataset for paraphrase identification. In Proceed- with residual adapters. In Advances in Neural In- ings of the 2019 Conference on Empirical Methods formation Processing Systems 30, pages 506–516. in computer vision and the 9th Inter- national Joint Conference on Natural Language Pro- Tal Schuster, Ori Ram, Regina Barzilay, and Amir cessing (EMNLP-IJCNLP), pages 3687–3692, Hong Globerson. 2019. Cross-lingual alignment of con- Kong, China. Association for Computational Lin- textual word embeddings, with applications to zero- guistics. shot dependency parsing. In Proceedings of the 2019 Conference of the North American Chapter of Yang You, Jing Li, Sashank Reddi, Jonathan Hseu, the Association for Computational Linguistics: Hu- Sanjiv Kumar, Srinadh Bhojanapalli, Xiaodan Song, man Language Technologies, Volume 1 (Long and James Demmel, Kurt Keutzer, and Cho-Jui Hsieh.
2020. Large Batch Optimization for Deep Learning: Training BERT in 76 minutes. In Proceedings of the 8th International Conference on Learning Represen- tations (ICLR 2020). Meng Zhang, Yang Liu, Huanbo Luan, and Maosong Sun. 2017. Adversarial training for unsupervised bilingual lexicon induction. In Proceedings of the 55th Annual Meeting of the Association for Com- putational Linguistics (Volume 1: Long Papers), pages 1959–1970, Vancouver, Canada. Association for Computational Linguistics. Yuan Zhang, Jason Baldridge, and Luheng He. 2019. PAWS: Paraphrase adversaries from word scram- bling. In Proceedings of the 2019 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Tech- nologies, Volume 1 (Long and Short Papers), pages 1298–1308, Minneapolis, Minnesota. Association for Computational Linguistics.
A Training details (e.g. “this is *0* an example span #0# delimited by placeholders”). Translators were instructed to In contrast to You et al. (2020), we train with a keep the placeholders in the relevant position in sequence length of 512 from the beginning, in- their translations, and had access to an online val- stead of dividing training into two stages. For our idator to automatically verify that the format of proposed approach, we pre-train a single English their output was correct. model for 250k steps, and perform another 250k steps to transfer it to every other language. C Additional results For the fine-tuning, we use Adam with a learn- ing rate of 2e-5, a batch size of 32, and train for We show the complete results for cross-lingual 2 epochs. The rest of the hyperparameters follow word embedding mappings and joint multilingual Devlin et al. (2019). For adapters, we follow the hy- training on MLDoc and PAWS-X in Table 7. Table perparameters employed by Houlsby et al. (2019). 8 reports exact match results on XQuAD, while For our proposed model using noised fine-tuning, Table 9 reports results for all cross-lingual word we set the standard deviation of the Gaussian noise embedding mappings and joint multilingual train- to 0.075 and the mean to 0. ing variants. B XQuAD dataset details D Probing experiments XQuAD consists of a subset of 240 context para- As probing tasks are only available in English, we graphs and 1190 question-answer pairs from the train monolingual models in each L 2 of XNLI and development set of SQuAD v1.1 (Rajpurkar et al., then align them to English. To control for the 2016) together with their translations into 10 other amount of data, we use 3M sentences both for pre- languages: Spanish, German, Greek, Russian, training and alignment in every language.11 Turkish, Arabic, Vietnamese, Thai, Chinese, and Semantic probing We evaluate the representa- Hindi. Table 5 comprises some statistics of the tions on two semantic probing tasks, the Word in dataset, while Table 6 shows one example from it. Context (WiC; Pilehvar and Camacho-Collados, So as to guarantee the diversity of the dataset, 2019) and Stanford Contextual Word Similarity we selected 5 context paragraphs at random from (SCWS; Huang et al., 2012) datasets. WiC is a each of the 48 documents in the SQuAD 1.1 de- binary classification task, which requires the model velopment set, and translate both the context para- to determine if the occurrences of a word in two graphs themselves as well as all their corresponding contexts refer to the same or different meanings. questions. The translations were done by profes- SCWS requires estimating the semantic similarity sional human translators through the Gengo10 ser- of word pairs that occur in context. For WiC, we vice. The translation workload was divided into 10 train a linear classifier on top of the fixed sentence batches for each language, which were submitted pair representation. For SCWS, we obtain the con- separately to Gengo. As a consequence, differ- textual representations of the target word in each ent parts of the dataset might have been translated sentence by averaging its constituent word pieces, by different translators. However, we did guar- and calculate their cosine similarity. antee that all paragraphs and questions from the same document were submitted in the same batch Syntactic probing We evaluate the same mod- to make sure that their translations were consistent. els in the syntactic probing dataset of Marvin and Translators were specifically instructed to transliter- Linzen (2018) following the same setup as Gold- ate all named entities to the target language follow- berg (2019). Given minimally different pairs of ing the same conventions used in Wikipedia, from English sentences, the task is to identify which of which the English context paragraphs in SQuAD them is grammatical. Following Goldberg (2019), originally come. we feed each sentence into the model masking the In order to facilitate easy annotations of answer word in which it differs from its pair, and pick the spans, we chose the most frequent answer for each one to which the masked language model assigns question and marked its beginning and end in the the highest probability mass. Similar to Goldberg context paragraph through placeholder symbols 11We leave out Thai, Hindi, Swahili, and Urdu as their 10https://gengo.com corpus size is smaller than 3M.
en es de el ru tr ar vi th zh hi Paragraph 142.4 160.7 139.5 149.6 133.9 126.5 128.2 191.2 158.7 147.6 232.4 Question 11.5 13.4 11.0 11.7 10.0 9.8 10.7 14.8 11.5 10.5 18.7 Answer 3.1 3.6 3.0 3.3 3.1 3.1 3.1 4.5 4.1 3.5 5.6 Table 5: Average number of tokens for each language in XQuAD. The statistics were obtained using Jieba for Chinese and the Moses tokenizer for the rest of the languages. Lang Context paragraph w/ answer spans Questions en The heat required for boiling the water and supplying the 1. What is the usual source of heat for boiling water steam can be derived from various sources, most com- in the steam engine? monly from [burning combustible materials] with an 1 2. Aside from firebox, what is another name for the appropriate supply of air in a closed space (called vari- space in which combustible material is burned in ously [combustion chamber] , firebox). In some cases 2 the engine? the heat source is a nuclear reactor, geothermal energy, 3. Along with nuclear, geothermal and internal com- [solar] energy or waste heat from an internal combus- 3 bustion engine waste heat, what sort of energy tion engine or industrial process. In the case of model or might supply the heat for a steam engine? toy steam engines, the heat source can be an [electric] 4 heating element. 4. What type of heating element is often used in toy steam engines? es El calor necesario para hervir el agua y suministrar el 1. ¿Cua´l es la fuente de calor habitual para hacer vapor puede derivarse de varias fuentes, generalmente de hervir el agua en la ma´quina de vapor? [la quema de materiales combustibles] con un sum- 1 2. Aparte de ca´mara de combustio´n, ¿que´ otro nom- inistro adecuado de aire en un espacio cerrado (llamado bre que se le da al espacio en el que se quema el de varias maneras: [ca´mara de combustio´n] , chime- 2 material combustible en el motor? nea...). En algunos casos la fuente de calor es un reactor 3. Junto con el calor residual de la energ´ıa nuclear, nuclear, energ´ıa geote´rmica, [energ´ıa solar] o calor 3 geote´rmica y de los motores de combustio´n in- residual de un motor de combustio´n interna o proceso terna, ¿que´ tipo de energ´ıa podr´ıa suministrar el industrial. En el caso de modelos o motores de vapor calor para una ma´quina de vapor? de juguete, la fuente de calor puede ser un calentador [ele´ctrico] . 4. ¿Que´ tipo de elemento calefactor se utiliza a 4 menudo en las ma´quinas de vapor de juguete? zh 让水沸腾以提供蒸汽所需热量有多种来源，最常见 1. 蒸汽机中让水沸腾的常用热源是什么? 的是在封闭空间（别称有 [燃燃燃烧烧烧室室室] 2 、火箱）中供 2. 除了火箱之外，发动机内燃烧可燃材料的空 应适量空气来 [燃燃燃烧烧烧可可可燃燃燃材材材料料料] 1 。在某些情况下， 间的别名是什么? 热源是核反应堆、地热能、 [太太太阳阳阳能能能] 或来自内燃 机或工业过程的废气。如果是模型或玩3 具蒸汽发动 3. 除了核能、地热能和内燃机废气以外，还有 机，还可以将 [电电电] 加热元件作为热源。 什么热源可以为蒸汽机供能? 4 4. 玩具蒸汽机通常使用什么类型的加热元件? Table 6: An example from XQuAD. The full dataset consists of 240 such parallel instances in 11 languages. (2019), we discard all sentence pairs from the Mar- vin and Linzen (2018) dataset that differ in more than one subword token. Table 10 reports the re- sulting coverage split into different categories, and we show the full results in Table 11.
MLDoc PAWS-X en fr es de ru zh avg en fr es de zh avg 300d ident 93.1 85.2 74.8 86.5 67.4 72.7 79.9 92.8 83.9 84.7 81.1 72.9 83.1 300d unsup 93.1 85.0 75.0 86.1 68.8 76.0 80.7 92.8 83.9 84.2 81.3 73.5 83.1 CLWE 768d ident 94.7 87.3 77.0 88.7 67.6 78.3 82.3 92.8 85.2 85.5 81.6 72.5 83.5 768d unsup 94.7 87.5 76.9 88.1 67.6 72.7 81.2 92.8 84.3 85.5 81.8 72.1 83.3 32k voc 92.6 81.7 75.8 85.4 71.5 66.6 78.9 91.9 83.8 83.3 82.6 75.8 83.5 JOINT 64k voc 92.8 80.8 75.9 84.4 67.4 64.8 77.7 93.7 86.9 87.8 85.8 80.1 86.8 MULTI 100k voc 92.2 74.0 77.2 86.1 66.8 63.8 76.7 93.1 85.9 86.5 84.1 76.3 85.2 200k voc 91.9 82.1 80.9 89.3 71.8 66.2 80.4 93.8 87.7 87.5 87.3 78.8 87.0 Table 7: MLDoc and PAWS-X results (F1-score) for all CLWE and JOINTMULTI variants. en es de el ru tr ar vi th zh hi avg 300d ident 72.5 39.7 33.6 23.5 29.9 11.8 18.5 16.1 16.5 17.9 10.0 26.4 300d unsup 72.5 39.2 34.5 24.8 30.4 12.2 14.7 6.5 16.0 16.1 10.4 25.2 CLWE 768d ident 73.1 40.6 32.9 20.1 30.7 10.8 14.2 11.8 12.3 14.0 9.1 24.5 768d unsup 73.1 41.5 31.8 21.0 31.0 12.1 14.1 10.5 10.0 13.2 10.2 24.4 32k voc 68.3 41.3 44.3 31.8 45.0 28.5 36.2 36.9 39.2 40.1 27.5 39.9 JOINT 64k voc 71.3 48.2 49.9 40.2 50.9 33.7 41.5 45.0 43.7 36.9 36.8 45.3 MULTI 100k voc 71.5 49.8 51.2 41.1 51.8 33.0 43.7 45.3 44.5 40.8 36.6 46.3 200k voc 72.1 55.3 55.2 48.0 52.7 40.1 46.6 47.6 45.8 38.5 42.3 49.5 JOINT Joint voc 71.7 47.8 57.6 38.2 53.4 35.0 47.4 49.7 44.3 47.1 38.8 48.3 PAIR Disjoint voc 72.2 52.5 56.5 47.8 55.0 43.7 49.0 49.2 43.9 50.0 39.1 50.8 Subword emb 72.3 47.4 42.4 43.3 46.4 30.1 42.6 45.1 39.0 39.0 32.4 43.6 MONO + pos emb 72.9 54.3 48.4 47.3 47.6 6.1 41.1 47.6 38.6 45.0 9.0 41.6 TRANS + noising 69.6 51.2 52.4 50.2 51.0 6.9 43.0 46.3 46.4 48.1 10.7 43.2 + adapters 69.6 51.4 51.4 50.2 51.4 44.5 48.8 47.7 45.6 49.2 45.1 50.5 Table 8: XQuAD results (exact match). en es de el ru tr ar vi th zh hi avg 300d ident 84.1 56.8 51.3 43.4 47.4 25.5 35.5 34.5 28.7 25.3 22.1 41.3 300d unsup 84.1 56.8 51.8 42.7 48.5 24.4 31.5 20.5 29.8 26.6 23.1 40.0 CLWE 768d ident 84.2 58.0 51.2 41.1 48.3 24.2 32.8 29.7 23.8 19.9 21.7 39.5 768d unsup 84.2 58.9 50.3 41.0 48.5 25.8 31.3 27.3 24.4 20.9 21.6 39.5 32k voc 79.3 59.5 60.3 49.6 59.7 42.9 52.3 53.6 49.3 50.2 42.3 54.5 JOINT 64k voc 82.3 66.5 67.1 60.9 67.0 50.3 59.4 62.9 55.1 49.2 52.2 61.2 MULTI 100k voc 82.6 68.9 68.9 61.0 67.8 48.1 62.1 65.6 57.0 52.3 53.5 62.5 200k voc 82.7 74.3 71.3 67.1 70.2 56.6 64.8 67.6 58.6 51.5 58.3 65.7 Table 9: XQuAD results (F1) for all CLWE and JOINTMULTI variants.
coverage Subject-verb agreement Simple 80 / 140 (57.1%) In a sentential complement 960 / 1680 (57.1%) Short VP coordination 480 / 840 (57.1%) Long VP coordination 320 / 400 (80.0%) Across a prepositional phrase 15200 / 22400 (67.9%) Across a subject relative clause 6400 / 11200 (57.1%) Across an object relative clause 17600 / 22400 (78.6%) Across an object relative (no that) 17600 / 22400 (78.6%) In an object relative clause 5600 / 22400 (25.0%) In an object relative (no that) 5600 / 22400 (25.0%) Reflexive anaphora Simple 280 / 280 (100.0%) In a sentential complement 3360 / 3360 (100.0%) Across a relative clause 22400 / 22400 (100.0%) Table 10: Coverage of our systems for the syntactic probing dataset. We report the number of pairs in the orig- inal dataset by Marvin and Linzen (2018), those covered by the vocabulary of our systems and thus used in our experiments, and the corresponding percentage. mono xx→en aligned en en fr es de el bg ru tr ar vi zh avg Subject-verb agreement Simple 91.2 76.2 90.0 93.8 56.2 97.5 56.2 78.8 72.5 67.5 81.2 71.2 76.5 In a sentential complement 99.0 65.7 94.0 92.1 62.7 98.3 80.7 74.1 89.7 71.5 78.9 79.6 80.7 Short VP coordination 100.0 64.8 66.9 69.8 64.4 77.9 60.2 88.8 76.7 73.3 62.7 64.4 70.0 Long VP coordination 96.2 58.8 53.4 60.0 67.5 62.5 59.4 92.8 62.8 75.3 62.5 64.4 65.4 Across a prepositional phrase 89.7 56.9 54.6 52.8 53.4 53.4 54.6 79.6 54.3 59.9 57.9 56.5 57.6 Across a subject relative clause 91.6 49.9 51.9 48.3 52.0 53.2 56.2 78.1 48.6 58.9 55.4 52.3 55.0 Across an object relative clause 79.2 52.9 56.2 53.3 52.4 56.6 57.0 63.1 52.3 59.0 54.9 54.5 55.7 Across an object relative (no that) 77.1 54.1 55.9 55.9 53.1 56.2 59.7 63.3 53.1 54.9 55.9 56.8 56.3 In an object relative clause 74.6 50.6 59.9 66.4 59.4 61.1 49.8 60.4 42.6 45.3 56.9 56.3 55.3 In an object relative (no that) 66.6 51.7 57.1 64.9 54.9 59.4 49.9 57.0 43.7 46.6 54.9 55.4 54.1 Macro-average 86.5 58.2 64.0 65.7 57.6 67.6 58.4 73.6 59.6 61.2 62.1 61.1 62.7 Reflexive anaphora Simple 90.0 69.3 63.6 67.9 55.0 69.3 56.4 89.3 75.0 87.1 58.6 60.7 68.4 In a sentential complement 82.0 56.3 63.9 73.2 52.7 65.7 59.1 70.8 71.7 84.5 59.8 53.9 64.7 Across a relative clause 65.6 55.0 54.5 58.6 52.3 55.8 52.5 66.1 61.4 73.3 56.9 50.9 57.9 Macro-average 79.2 60.2 60.7 66.6 53.3 63.6 56.0 75.4 69.4 81.6 58.4 55.2 63.7 Table 11: Complete syntactic probing results (F1-score) of a monolingual model and monolingual models trans- ferred to English on the syntactic evaluation test set (Marvin and Linzen, 2018).
